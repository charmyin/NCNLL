<ol class="breadcrumb" style="margin:0;">
    <li><a href="/">首页</a></li>
    <li class="active">用户注册</li>
</ol>

<div style="width:70%;text-align:center;margin:10px auto 10px auto;background:#EFF8F8; padding:10px 0px 10px 10px;"  ng-controller="userRegisterCtrl" >
  <form class="form-horizontal" name="userForm" role="form" ng-hide="registedSuccessfully">
    <div class="form-group">
      <label for="userEmail" class="col-sm-2 control-label">邮箱:</label>
      <div class="col-sm-8">
        <input type="mail" class="form-control" id="userEmail" ng-model="user.email" placeholder="邮箱：charmyin@gmail.com" >
      </div>
      <h5><span class=" label label-danger" ng-show="emailError">{{errorInfo}}</span></h5>
    </div>
    <div class="form-group">
      <label for="userName" class="col-sm-2 control-label">用户名称:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" ng-minlength="3" ng-maxlength="20" ng-model="user.username" name="userName" id="userName" placeholder="用户名称">
      </div>
      <h5><span class="label label-danger" ng-show="userForm.userName.$error.maxlength || userForm.userName.$error.minlength">长度3-20个字</span></h5>
    </div>
    <div class="form-group" style="display:none;">
      <label for="userrole" class="col-sm-2 control-label">用户角色:</label>
      <div class="col-sm-8">
        <select ng-init="user.userrole=0" class="form-control" ng-model="user.userrole"  ng-options="category.value as category.name for category in [{value:0, name:'消费者'}, {value:1, name:'生产者'}]" id="userrole"></select>
      </div>
      <span  class="col-sm-2" ng-hide="true">格式错误</span>
    </div>
    <div class="form-group">
      <label for="phoneNumber" class="col-sm-2 control-label">手机号:</label>
      <div class="col-sm-8">
        <input type="number" class="form-control" ng-model="user.phonenumber" ng-minlength="11" ng-maxlength="11" name="phoneNumber" id="phoneNumber" placeholder="手机号">
      </div>
      <h5><span class="label label-danger" ng-show="userForm.phoneNumber.$error.maxlength || userForm.phoneNumber.$error.minlength">长度11个字</span></h5>
    </div>
    <div class="form-group" ng-show="user.userrole==1">
      <label for="userAddress" class="col-sm-2 control-label">所在地址:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="userAddress" placeholder="所在地址" ng-model="user.address">
      </div>
      <span  class="col-sm-2" ng-hide="true">格式错误</span>
    </div>
    <div class="form-group">
      <label for="userPassword" class="col-sm-2 control-label">密码:</label>
      <div class="col-sm-8">
        <input type="password" class="form-control" ng-model="user.password" id="userPassword" name="userPassword" ng-minlength="6" ng-maxlength="30" placeholder="用户密码">
      </div>
      <h5><span class="label label-danger" ng-show="userForm.userPassword.$error.maxlength || userForm.userPassword.$error.minlength">长度6-30个字</span></h5>

    </div>
    <div class="form-group">
      <label for="userPasswordConfirm" class="col-sm-2 control-label">确认密码:</label>
      <div class="col-sm-8">
        <input type="password" class="form-control" ng-model="user.passwordRepeat" id="userPasswordConfirm" placeholder="用户密码确认">
      </div>
      <h5><span class="label label-danger" ng-hide="user.password==user.passwordRepeat">两次密码不相同</span></h5>
    </div>

    <div class="form-group">
      <div class="col-sm-12">
        <button type="submit" class="btn btn-primary" ng-click="submitForm()">下一步</button>
      </div>
    </div>


  </form>
  <div ng-show="registedSuccessfully" >
    <p>注册成功！</p>
    <button type="submit" class="btn btn-success" ng-click="nextToIndexPage()">确认</button>
  </div>
</div>

